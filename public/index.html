<!DOCTYPE html>
<html>
    <body id="body">
        <h1 id="welcomeMessage" style="color: white; font-size: 40px; font-family: Arial, sans-serif; font-weight: bold; text-shadow: 2px 2px #000;"></h1>

        <script>
            async function fetchImage() {
                try {
                    const response = await fetch('/text-to-image');
                    const data = await response.json();
                    let body = document.getElementById('body');
                    // set the image as a background of the body
                    body.style.backgroundImage = `url(${data.imageUrl})`;
                    // ensure image covers full area and is not repeated
                    body.style.backgroundSize = 'cover';
                    body.style.backgroundRepeat = 'no-repeat';

                    document.getElementById('welcomeMessage').textContent =`Random word: ${data.text}`;
                } catch (error) { 
                    console.error('Failed to fetch image:', error);
                }
            }
            window.onload = fetchImage;
        </script>
    </body>
</html>
